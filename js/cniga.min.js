function snap(e,t){for(var n=e.length-1;n>=0&&(e[n]!==t||(e.splice(n,1),!0!==multi));n--);}function trackEvent(e,t,n,o){o?(_paq.push(["trackEvent",e,t,n,o]),console.log("CATEGORY: "+e+", ACTION:"+t+", LABEL:"+n+", VALUE:"+o)):n?(_paq.push(["trackEvent",e,t,n]),console.log("CATEGORY: "+e+", ACTION:"+t+", LABEL:"+n)):(_paq.push(["trackEvent",e,t]),console.log("CATEGORY: "+e+", ACTION:"+t))}var windowHeight=window.innerHeight,app=new Vue({el:"#app",data:{my:{userType:"guest",view:"welcome",contactChoice:!1,unreadItems:0,sentBills:[],email:"",loginCode:""},loginStatus:"guest",news:[],billsLoading:!0,stateSupport:{},stateSupportShow:!1,stateOppose:{},stateOpposeShow:!1,stateMonitor:{},stateMonitorShow:!1,schedule:{},scheduleShow:!1},computed:{},methods:{checkPassword:function(){this.my.email.includes("redcircle")?this.loginStatus="validating":this.loginStatus="error"},checkLoginCode:function(){this.my.loginCode.toUpperCase().includes("X")?(this.loginStatus="member",this.my.userType="member",this.my.view="news"):this.loginStatus="validateError"},newAlert:function(e){alert(e)},beforeEnter:function(e){e.style.opacity=0},slideDown:function(e,t){Velocity(e,"slideDown",{duration:500})},slideUp:function(e,t){Velocity(e,"slideUp",{duration:300})},openLink:function(e,t){void 0!==cordova.InAppBrowser&&(window.open=cordova.InAppBrowser.open),window.open(e,t)},emailLink:function(e,t){return"mailto:?subject="+e+"&body="+t},countUnreadNews:function(){var e=this;e.my.unreadItems=0,e.news.forEach(function(t){t.read||e.my.unreadItems++})},bindEvents:function(){console.log("Bind Events"),document.addEventListener("deviceready",this.onDeviceReady,!1)},onDeviceReady:function(){this.deviceready=!0,console.log("Received Device Ready Event"),console.log("calling setup push"),app.setupPush()},setupPush:function(){console.log("calling push init");var e=PushNotification.init({android:{senderID:"XXXXXXXX"},browser:{},ios:{sound:!0,vibration:!0,badge:!0},windows:{}});console.log("after init"),e.on("registration",function(e){console.log("registration event: "+e.registrationId),document.getElementById("regId").innerHTML=e.registrationId;localStorage.getItem("registrationId")!==e.registrationId&&localStorage.setItem("registrationId",e.registrationId)}),e.on("error",function(e){console.log("push error = "+e.message)}),e.on("notification",function(e){console.log("notification event"),navigator.notification.alert(e.message,null,e.title,"Ok")})},getContent:function(){var e=this;fetch("https://circle.red/cniga/").then(function(e){return e.json()}).then(function(t){e.schedule=t.schedule,e.news=t.news,e.countUnreadNews()}).catch(function(t){console.log(t),e.countUnreadNews()})},getBills:function(){},setEmailSent:function(e){-1===this.my.sentBills.indexOf(e)?this.my.sentBills.push(e):this.my.sentBills.splice(this.my.sentBills.indexOf(e),1),console.log(this.my.sentBills)}},mounted:function(){this.countUnreadNews(),this.bindEvents(),this.getContent(),this.getBills()}});
//# sourceMappingURL=cniga.min.js.map