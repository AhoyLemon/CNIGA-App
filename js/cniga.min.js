function snap(e,n){for(var t=e.length-1;t>=0&&(e[t]!==n||(e.splice(t,1),!0!==multi));t--);}function trackEvent(e,n,t,o){o?(_paq.push(["trackEvent",e,n,t,o]),console.log("CATEGORY: "+e+", ACTION:"+n+", LABEL:"+t+", VALUE:"+o)):t?(_paq.push(["trackEvent",e,n,t]),console.log("CATEGORY: "+e+", ACTION:"+n+", LABEL:"+t)):(_paq.push(["trackEvent",e,n]),console.log("CATEGORY: "+e+", ACTION:"+n))}var windowHeight=window.innerHeight,app=new Vue({el:"#app",data:{my:{userType:"guest",view:"welcome",contactChoice:!1,unreadItems:0,sentBills:[],email:"",loginCode:""},loginStatus:"guest",news:[],billsLoading:!0,stateSupport:{},stateSupportShow:!1,stateOppose:{},stateOpposeShow:!1,stateMonitor:{},stateMonitorShow:!1,schedule:{},scheduleShow:!1},computed:{},methods:{checkPassword:function(){var e=this;e.my.email.includes("redcircle")?e.loginStatus="validating":e.loginStatus="error"},checkLoginCode:function(){var e=this;e.my.loginCode.toUpperCase().includes("X")?(e.loginStatus="member",e.my.userType="member",e.my.view="news"):e.loginStatus="validateError"},newAlert:function(e){alert(e)},beforeEnter:function(e){e.style.opacity=0},slideDown:function(e,n){Velocity(e,"slideDown",{duration:500})},slideUp:function(e,n){Velocity(e,"slideUp",{duration:300})},openLink:function(e,n){void 0!==cordova.InAppBrowser&&(window.open=cordova.InAppBrowser.open),window.open(e,n)},emailLink:function(e,n){return"mailto:?subject="+e+"&body="+n},countUnreadNews:function(){var e=this;e.my.unreadItems=0,e.news.forEach(function(n){n.read||e.my.unreadItems++})},bindEvents:function(){console.log("Bind Events"),document.addEventListener("deviceready",this.onDeviceReady,!1)},onDeviceReady:function(){this.deviceready=!0,console.log("Received Device Ready Event"),console.log("calling setup push"),app.setupPush()},setupPush:function(){console.log("calling push init");var e=PushNotification.init({android:{senderID:"XXXXXXXX"},browser:{},ios:{sound:!0,vibration:!0,badge:!0},windows:{}});console.log("after init"),e.on("registration",function(e){console.log("registration event: "+e.registrationId),document.getElementById("regId").innerHTML=e.registrationId,localStorage.getItem("registrationId")!==e.registrationId&&localStorage.setItem("registrationId",e.registrationId)}),e.on("error",function(e){console.log("push error = "+e.message)}),e.on("notification",function(e){console.log("notification event"),navigator.notification.alert(e.message,null,e.title,"Ok")})},getContent:function(){var e=this;fetch("https://circle.red/cniga/").then(function(e){return e.json()}).then(function(n){e.schedule=n.schedule,e.news=n.news,e.countUnreadNews()}).catch(function(n){console.log(n),e.countUnreadNews()})},getBills:function(){var e=this;fetch("https://circle.red/cniga/legislation").then(function(e){return e.json()}).then(function(n){e.stateSupport=n.billssupporting,e.stateOppose=n.billsopposing,e.stateMonitor=n.billsmonitoring,e.billsLoading=!1}).catch(function(e){console.log(e)})},setEmailSent:function(e){var n=this;-1===n.my.sentBills.indexOf(e)?n.my.sentBills.push(e):n.my.sentBills.splice(n.my.sentBills.indexOf(e),1),console.log(n.my.sentBills)}},mounted:function(){var e=this;e.countUnreadNews(),e.bindEvents(),e.getContent(),e.getBills()}});
//# sourceMappingURL=cniga.min.js.map