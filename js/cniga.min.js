function snap(n,e){for(var t=n.length-1;t>=0&&(n[t]!==e||(n.splice(t,1),!0!==multi));t--);}function trackEvent(n,e,t,o){o?(_paq.push(["trackEvent",n,e,t,o]),console.log("CATEGORY: "+n+", ACTION:"+e+", LABEL:"+t+", VALUE:"+o)):t?(_paq.push(["trackEvent",n,e,t]),console.log("CATEGORY: "+n+", ACTION:"+e+", LABEL:"+t)):(_paq.push(["trackEvent",n,e]),console.log("CATEGORY: "+n+", ACTION:"+e))}var windowHeight=window.innerHeight,app=new Vue({el:"#app",data:{my:{view:"news",contactChoice:!1,unreadItems:0,sentBills:[]},news:[],billsLoading:!0,stateSupport:{},stateSupportShow:!1,stateOppose:{},stateOpposeShow:!1,stateMonitor:{},stateMonitorShow:!1,schedule:{},scheduleShow:!1},computed:{},methods:{newAlert:function(n){alert(n)},beforeEnter:function(n){n.style.opacity=0},slideDown:function(n,e){Velocity(n,"slideDown",{duration:500})},slideUp:function(n,e){Velocity(n,"slideUp",{duration:300})},openLink:function(n,e){void 0!==cordova.InAppBrowser&&(window.open=cordova.InAppBrowser.open),window.open(n,e)},emailLink:function(n,e){return"mailto:?subject="+n+"&body="+e},countUnreadNews:function(){var n=this;n.my.unreadItems=0,n.news.forEach(function(e){e.read||n.my.unreadItems++})},bindEvents:function(){console.log("Bind Events"),document.addEventListener("deviceready",this.onDeviceReady,!1)},onDeviceReady:function(){this.deviceready=!0,console.log("Received Device Ready Event"),console.log("calling setup push"),app.setupPush(),universalLinks.subscribe("ul_didLaunchAppFromLink",app.didLaunchAppFromLink)},setupPush:function(){console.log("calling push init");var n=PushNotification.init({android:{senderID:"XXXXXXXX"},browser:{},ios:{sound:!0,vibration:!0,badge:!0},windows:{}});console.log("after init"),n.on("registration",function(n){console.log("registration event: "+n.registrationId),document.getElementById("regId").innerHTML=n.registrationId,localStorage.getItem("registrationId")!==n.registrationId&&localStorage.setItem("registrationId",n.registrationId)}),n.on("error",function(n){console.log("push error = "+n.message)}),n.on("notification",function(n){console.log("notification event"),navigator.notification.alert(n.message,null,n.title,"Ok")})},getContent:function(){var n=this;fetch("https://circle.red/cniga/").then(function(n){return n.json()}).then(function(e){n.schedule=e.schedule,n.news=e.news,n.countUnreadNews()}).catch(function(e){console.log(e),n.countUnreadNews()})},getBills:function(){var n=this;fetch("https://circle.red/cniga/legislation").then(function(n){return n.json()}).then(function(e){n.stateSupport=e.billssupporting,n.stateOppose=e.billsopposing,n.stateMonitor=e.billsmonitoring,n.billsLoading=!1}).catch(function(n){console.log(n)})},setEmailSent:function(n){var e=this;-1===e.my.sentBills.indexOf(n)?e.my.sentBills.push(n):e.my.sentBills.splice(e.my.sentBills.indexOf(n),1),console.log(e.my.sentBills)},didLaunchAppFromLink:function(){alert("Did launch application from the link: "+eventData.url)}},mounted:function(){var n=this;n.countUnreadNews(),n.bindEvents(),n.getContent(),n.getBills()}});
//# sourceMappingURL=cniga.min.js.map